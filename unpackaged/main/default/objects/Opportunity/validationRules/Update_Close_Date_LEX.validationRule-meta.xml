<?xml version="1.0" encoding="utf-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Update_Close_Date_LEX</fullName>
    <active>false</active>
    <description>Requires user to update close date to accurate date upon award/loss</description>
    <errorConditionFormula>AND(
$User.Username  &lt;&gt; 'ithelpdesk@blackdiamondgroup.com',
$User.Username  &lt;&gt; 'salesforcedatamigration@blackdiamondgroup.com',
 AND($User.FirstName &lt;&gt; "Daisy",$User.FirstName &lt;&gt; "Lynette",$User.LastName &lt;&gt; "Currier", $User.FirstName &lt;&gt; "Cecilia", $User.LastName &lt;&gt; "Moore", $User.FirstName &lt;&gt; "Miriam",  $User.Username &lt;&gt; "sholmes@boxxmodular.com", $User.LastName &lt;&gt; "Torres"),
RecordType.Name &lt;&gt; "Vanguard",
OR(ISPICKVAL( StageName ,'WIP'), 
ISPICKVAL( StageName ,'Closed Won'), 
ISPICKVAL( StageName ,'Closed Lost'),
ISPICKVAL( StageName ,'Cancelled')), 

ISCHANGED(StageName),
NOT(ISCHANGED( CloseDate )),
OR(CloseDate &gt; TODAY(),
CloseDate &lt; TODAY() -14),
OR(
   RecordType.Name = "BD WFS CPQ",
   RecordType.Name = "BD MSS",
   RecordType.Name = "BD MSS Major Projects",
   RecordType.Name = "BD Energy",
   RecordType.Name = "BD Workforce",
   RecordType.Name = "BD Lodging",
   RecordType.Name = "BD Disaster")
)</errorConditionFormula>
    <errorDisplayField>CloseDate</errorDisplayField>
    <errorMessage>Update Close Date to reflect Opportunity "Contract Signed Date" or "Loss Notification Date". Date must be within the last two weeks or TODAY.</errorMessage>
</ValidationRule>
